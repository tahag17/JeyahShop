<div
  class="h-screen flex items-center justify-center gap-8 bg-bgLight dark:bg-bgDark legacy:bg-bgLegacy px-4"
>
  <!-- Login box -->
  <form
    [formGroup]="loginForm"
    (ngSubmit)="login()"
    class="flex flex-col gap-4 w-full max-w-sm md:max-w-md lg:max-w-lg p-6 bg-surfaceLight dark:bg-surfaceDark legacy:bg-surfaceLegacy rounded-2xl shadow-md text-textLight dark:text-textDark legacy:text-textLegacy"
  >
    <div class="flex items-center justify-between">
      <h2
        class="text-xl md:text-2xl lg:text-3xl font-semibold font-heading text-primaryTail dark:text-primaryDarkTail legacy:text-primaryLegacy"
      >
        Se Connecter
      </h2>

      <div class="flex items-center gap-2">
        <app-dark-mode-toggle></app-dark-mode-toggle>
        <button
          (click)="toggleLegacyMode()"
          class="p-2 w-8 rounded bg-primaryTail dark:bg-primaryDarkTail legacy:bg-primaryLegacy text-white dark:text-textDark legacy:text-textLegacy hover:bg-secondaryTail dark:hover:bg-secondaryDarkTail legacy:hover:bg-secondaryLegacy transition-colors flex items-center justify-center"
        >
          <i *ngIf="!isLegacyMode" class="fa-solid fa-landmark"></i>
          <i *ngIf="isLegacyMode" class="fa-solid fa-clock-rotate-left"></i>
        </button>
      </div>
    </div>

    <!-- Email -->
    <div>
      <label
        class="block text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl font-medium mb-2 text-textLight dark:text-textDark legacy:text-textLegacy"
        >Email</label
      >
      <input
        formControlName="email"
        placeholder="Entrez votre email"
        type="email"
        class="w-full md:text-base px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 legacy:border-secondaryLegacy bg-white dark:bg-gray-800 legacy:bg-surfaceLegacy text-gray-800 dark:text-gray-100 legacy:text-textLegacy placeholder-gray-400 dark:placeholder-gray-500 legacy:placeholder-textLegacy/60 focus:outline-none focus:border-accentTail dark:focus:border-accentDarkTail legacy:focus:border-accentLegacy focus:ring-2 focus:ring-accentTail/40 dark:focus:ring-accentDarkTail/40 legacy:focus:ring-accentLegacy/40 hover:border-accentTail dark:hover:border-accentDarkTail legacy:hover:border-accentLegacy transition-all duration-300 ease-in-out shadow-sm hover:shadow-md focus:shadow-lg"
      />
      <div
        *ngIf="
          loginForm.get('email')?.invalid && loginForm.get('email')?.touched
        "
        class="text-dangerTail text-xs md:text-sm lg:text-base mt-1"
      >
        Email est requis
      </div>
    </div>

    <!-- Password -->
    <div>
      <label
        class="block text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl font-medium mb-2 text-textLight dark:text-textDark legacy:text-textLegacy"
        >Mot de Passe</label
      >
      <input
        formControlName="password"
        placeholder="********"
        type="password"
        class="w-full md:text-base px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 legacy:border-secondaryLegacy bg-white dark:bg-gray-800 legacy:bg-surfaceLegacy text-gray-800 dark:text-gray-100 legacy:text-textLegacy placeholder-gray-400 dark:placeholder-gray-500 legacy:placeholder-textLegacy/60 focus:outline-none focus:border-accentTail dark:focus:border-accentDarkTail legacy:focus:border-accentLegacy focus:ring-2 focus:ring-accentTail/40 dark:focus:ring-accentDarkTail/40 legacy:focus:ring-accentLegacy/40 hover:border-accentTail dark:hover:border-accentDarkTail legacy:hover:border-accentLegacy transition-all duration-300 ease-in-out shadow-sm hover:shadow-md focus:shadow-lg"
      />
      <div
        *ngIf="
          loginForm.get('password')?.invalid &&
          loginForm.get('password')?.touched
        "
        class="text-dangerTail text-xs md:text-sm lg:text-base mt-1"
      >
        Mot de passe est requis
      </div>
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      class="w-full bg-accentTail text-white dark:bg-accentDarkTail dark:text-white legacy:bg-primaryLegacy legacy:text-textLegacy hover:bg-accentTail/90 dark:hover:bg-accentDarkTail/90 legacy:hover:bg-secondaryLegacy transition-all rounded-md py-2.5 text-sm md:text-base lg:text-lg shadow-sm"
    >
      <ng-icon name="lucideAirplay" size="sm" class="mr-2"></ng-icon>
      Se Connecter
    </button>

    <!-- Backend error message -->
    <div *ngIf="loginError" class="text-dangerTail text-sm md:text-base mb-2">
      {{ loginError }}
    </div>

    <!-- Divider -->
    <div class="flex items-center my-4">
      <div
        class="flex-grow border-t border-gray-300 dark:border-gray-600 legacy:border-secondaryLegacy"
      ></div>
      <span
        class="px-2 text-sm md:text-sm lg:text-base text-gray-500 dark:text-gray-400 legacy:text-textLegacy/70"
        >ou</span
      >
      <div
        class="flex-grow border-t border-gray-300 dark:border-gray-600 legacy:border-secondaryLegacy"
      ></div>
    </div>

    <!-- Google Login -->
    <button
      type="button"
      (click)="loginWithGoogle()"
      class="flex items-center justify-center w-full gap-2 border border-gray-300 dark:border-gray-600 legacy:border-secondaryLegacy rounded-md py-2.5 px-3 text-sm md:text-base lg:text-lg hover:bg-gray-100 dark:hover:bg-gray-700 legacy:hover:bg-secondaryLegacy hover:text-accentTail dark:hover:text-accentDarkTail legacy:hover:text-accentLegacy transition-all"
    >
      <img
        src="https://www.svgrepo.com/show/475656/google-color.svg"
        alt="Google"
        class="w-5 h-5 md:w-6 md:h-6 lg:w-8 lg:h-8 xl:w-10 xl:h-10"
      />
      Se Connecter Avec Google
    </button>

    <!-- ✨ Info Line -->
    <p
      class="text-center text-xs md:text-sm lg:text-base text-gray-500 dark:text-gray-400 legacy:text-textLegacy mt-3"
    >
      Vous n’avez pas de compte ? <br />
      <span
        class="text-accentTail dark:text-accentDarkTail legacy:text-accentLegacy font-medium"
      >
        Inscrivez-vous en utilisant votre compte Google.
      </span>
    </p>
  </form>
</div>
