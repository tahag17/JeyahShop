<header
  class="w-full bg-surfaceLight dark:bg-surfaceDark shadow-md px-2 sm:px-6 py-3 flex items-center justify-between"
>
  <!-- Logo (left) -->
  <div class="flex items-center gap-2 hidden md:flex">
    <h1
      class="text-xl sm:text-2xl font-bold font-heading text-primaryTail dark:text-primaryDarkTail"
    >
      Jeyah
    </h1>
  </div>

  <!-- Search (center) - constrained max width so it doesn't expand too much) -->
  <div class="flex-1 flex justify-center mx-1 sm:mx-4">
    <div
      class="flex w-full max-w-[520px] xs:max-w-[260px] sm:max-w-[340px] md:max-w-[420px] lg:max-w-[520px]"
    >
      <input
        type="text"
        placeholder="Rechercher des produits..."
        class="flex-1 border border-gray-300 dark:border-gray-600 rounded-l px-2 sm:px-3 py-1 text-textLight dark:text-textDark focus:outline-none focus:ring-2 focus:ring-accentTail dark:focus:ring-accentDarkTail"
      />
      <button
        class="bg-accentTail dark:bg-accentDarkTail text-white px-2 sm:px-3 py-1 rounded-r hover:bg-accentTail/80 dark:hover:bg-accentDarkTail/80 transition"
      >
        <i class="fa-solid fa-magnifying-glass"></i>
      </button>
    </div>
  </div>

  <!-- Right side (no justify-between here â€” header handles spacing) -->
  <div class="flex items-center gap-x-1 sm:gap-x-2">
    <!-- Profile (desktop only) -->
    <button
      class="hidden md:flex items-center gap-1 sm:gap-2 text-textLight dark:text-textDark hover:text-primaryTail dark:hover:text-primaryDarkTail transition"
      [routerLink]="'/profile'"
    >
      <i class="fa-solid fa-user"></i>
      <span class="hidden sm:inline">Profile</span>
    </button>

    <!-- Cart icon (desktop only) -->
    <button
      class="relative p-1 sm:p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition hidden md:block"
      [routerLink]="'/cart'"
    >
      <i
        class="fa-solid fa-cart-shopping text-textLight dark:text-textDark text-sm sm:text-base"
      ></i>
      <span
        class="absolute -top-1 -right-1 bg-dangerTail text-white text-[10px] sm:text-xs rounded-full px-[3px]"
        >{{ cartCount }}</span
      >
    </button>

    <!-- Dark mode toggle: also keep a responsive ml as an extra guard -->
    <app-dark-mode-toggle
      class="ml-1 sm:ml-2 md:ml-4 lg:ml-6 xl:ml-8"
    ></app-dark-mode-toggle>

    <!-- Mobile hamburger -->
    <button
      class="md:hidden p-1 sm:p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition"
      (click)="toggleMenu()"
    >
      <i class="fa-solid fa-bars text-textLight dark:text-textDark"></i>
    </button>
  </div>
</header>
